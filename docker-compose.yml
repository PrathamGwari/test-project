version: '3.8'

services:
  tariff-server:
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    environment:
      # Spring profile
      - SPRING_PROFILES_ACTIVE=prod
      
      # Database connection
      - SPRING_DATASOURCE_URL=jdbc:postgresql://db.xizwjutjdldhrthleubs.supabase.co:5432/postgres
      - SPRING_DATASOURCE_USERNAME=postgres
      - SPRING_DATASOURCE_PASSWORD=jY8MbHb4bg_hij!
      
      # JWT Secret (should be changed in production)
      - JWT_SECRET=your-production-secret-key-here
    restart: unless-stopped
